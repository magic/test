(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){
function c(a,b){return k(a)||e(a,b)||g()}function e(a,b){var c=[];var d=!0;var e=!1;var f=undefined;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h["return"]!=null&&h["return"]()}finally{if(e)throw f}}return c}function f(a){return k(a)||j(a)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function j(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}function k(a){if(Array.isArray(a))return a}function l(a,b){if(a==null)return{};var c=m(a,b);var d,e;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(e=0;e<f.length;e++)d=f[e],!(b.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(a,d)&&(c[d]=a[d])}return c}function m(a,b){if(a==null)return{};var c={};var d=Object.keys(a);var e,f;for(f=0;f<d.length;f++)e=d[f],!(b.indexOf(e)>=0)&&(c[e]=a[e]);return c}function n(a){return n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function n(a){return typeof a}:function n(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(a)}var o=require("hyperapp"),q=o.app,r=o.h;var h=function(a){return function(){var b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var d=!!(arguments.length>1&&arguments[1]!==undefined)&&arguments[1];var e=function is(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.some(function(b){return b===n(a)})};return!d&&(e(b,"string","number","function")||Array.isArray(b)?(d=b,b={}):e(b.View,"function")&&(d=b.View,b={})),r(a,b,d)}};var s=h("div");var t=h("button");var u=h("code");var v=h("i");var i=h("pre");var w=h("span");var x=h("a");var a=h("text");var y=function Link(a,b){var c=a.to,d=a.href,e=a.text,f=a.nofollow,g=a.noreferrer,h=l(a,["to","href","text","nofollow","noreferrer"]);return function(a,i){return c=c||d||"",h.href=c,c&&c.startsWith("/")&&!c.startsWith("//")?h.onclick=function(a){return i.go({e:a,to:c})}:(h.target="_blank",h.rel="noopener",f&&(h.rel+=" nofollow"),g&&(h.rel+=" noreferrer")),x(h,[e,b])}};var z=h("b");var b=h("h1");var A=h("h2");var B=h("h3");var C=h("h4");var D=h("p");var p=h("tr");var E=h("img");var F=function Img(a){return function(){if(typeof a==="string"&&(a={src:a}),!!a.src)return!a.alt&&(a.title?a.alt=a.title:(a.role="presentation",a.alt="")),E(a)}};var G=h("li");var H=h("ul");var I=function GitBadges(a){var b=a.project,c=b!==void 0&&b;var d=a.npm,e=d===void 0?c:d,f=a.travis,g=f===void 0?c:f,h=a.appveyor,i=h===void 0?c:h,j=a.coveralls,k=j===void 0?c:j,l=a.greenkeeper,m=l===void 0?c:l,n=a.branch,o=n===void 0?"master":n;if(c||e||g||i||k||m){var p=function GitBadge(a){var b=a.to,c=a.src;return G([y({to:b},F({src:c}))])};return H({"class":"GitBadges"},[e&&p({to:"https://www.npmjs.com/package/@".concat(e),src:"https://img.shields.io/npm/v/@".concat(e,".svg")}),g&&p({to:"https://travis-ci.com/".concat(g),src:"https://travis-ci.com/".concat(g,".svg?branch=").concat(o)}),i&&p({to:"https://ci.appveyor.com/project/".concat(i,"/branch/").concat(o),src:"https://img.shields.io/appveyor/ci/".concat(i,"/").concat(o,".svg")}),k&&p({to:"https://coveralls.io/github/".concat(k),src:"https://coveralls.io/repos/github/".concat(k,"/badge.svg")}),m&&p({to:"https://greenkeeper.io",src:"https://badges.greenkeeper.io/".concat(m,".svg")})])}};var J={View:function View(a){var b=!!(arguments.length>1&&arguments[1]!==undefined)&&arguments[1];return function(c,d){var g="dark";return!b&&c.pre.theme==="dark"&&(g="light"),s({"class":"Pre ".concat(b||c.pre.theme)},[s({"class":"menu"},[!b&&t({onclick:function onclick(){return d.pre.changeTheme(g)}},g),t({onclick:function onclick(){return d.pre.clip(a)}},"copy")]),i(function format(a){var e=function wrapWords(a){if(typeof a!=="string")return a;var e=a.split(/\b/);return a=e.map(function(a,f){if(a!==""){var g="";return a==="state"?g="state":a==="actions"?g="actions":e[f+1]&&e[f+1].includes(":")?g="colon":j(a)?g="html":"let this long package float\ngoto private class if short\nwhile protected with debugger case\ncontinue volatile interface\n\ninstanceof super synchronized throw\nextends final export throws\ntry import double enum\n\nboolean abstract function\nimplements typeof transient break\ndefault do static void\n\nint new async native switch\nelse delete null public var\nawait byte finally catch\nin return for get const char\nmodule exports require".includes(a)?g="keyword":"Array Object String Number RegExp Null Symbol\nSet WeakSet Map WeakMap\nsetInterval setTimeout\nPromise\nJSON\nInt8Array Uint8Array Uint8ClampedArray\nInt16Array Uint16Array\nInt32Array Uint32Array\nFloat32Array Float64Array".includes(a)?g="builtin":"true false".includes(a)?g="boolean":e[f-1]==="."?g="property":e[f+1]==="."&&(g="object"),g&&(a=w({"class":g},a)),a}}),a};var h={canvas:1,video:1};var i=function wordsByLine(a){if(a.trim().startsWith("//"))return u({"class":"line comment"},a);if(a.includes("//")){var m=a.split("//");m[0]=i(m[0]);for(var n=1;n<m.length;n++)m[n]=u({"class":"comment"},"//".concat(m[n]));return u({"class":"line"},m)}var b=a.replace(/"/g,"'");var c=b.split("'"),d=f(c),g=d[0],h=d[1],j=d.slice(2);var k=j;k.length===1?k=i(k[0]):k.length>1&&(k=i(k.join("'")));var l=[];return l=typeof h==="undefined"?e(a):[e(g),w({"class":"string"},"'".concat(h,"'")),k],l};var j=function isHtmlTag(a){if(h.hasOwnProperty(a))return!0;try{var b=typeof global==="undefined"?document.createElement(a).toString()==="[object HTMLDivElement]":Object.keys(q.dependencies).includes(a);if(b)return h[a]=!0,!0}catch(a){}};a=a.replace(/^\n|\n$/g,"");var k=a.split("\n").map(function(a){return u({"class":"line"},i(a))});return k}(a))])}}};var K={View:function View(){return L({"class":"main"},[s({"class":"wrapper"},["made with a few bits of ",y({to:"https://github.com/magic/core",target:"_blank",rel:"noopener"},"magic")])])}};var L=h("footer");var M={View:function View(a){var b=a.name,c=b===void 0?"menu":b,d=a["class"],e=d===void 0?"":d,f=a.between,g=f!==void 0&&f,h=a.items,i=h===void 0?[]:h;return function(a){if(i.length||a[c]&&a[c].length)return!i.length&&(i=a[c]),N({"class":"Menu ".concat(e)},[H(i.map(function(b,d){var e=b.items,f=l(b,["items"]);var h={};var i=a.hash?"#".concat(a.hash):"";var j=a.url+i;f.to===j&&(h["class"]="active");var k;return e&&j.startsWith(f.to)&&(k=H(e.map(function(a){var b={};return a.to===j&&(b["class"]="active"),G(b,y(a))}))),[G(h,[y(f),k]),g&&d<a[c].length-1?G(g):""]}))])}}};var N=h("nav");var O=h("header");var P=function PageHead(a){return(a.logo||a.menu||a.tagline)&&O({"class":"main"},[(a.logo||a.logotext)&&y({to:"/test/","class":"logo-wrapper"},[a.logo&&F({"class":"logo",src:a.logo}),a.logotext&&w({"class":"logo-text"},a.logotext)]),M.View])};var Q={"/test/":function test(){return[b("@magic/test"),D("simple tests with lots of utility."),I({project:"magic/test",appveyor:"jaeh/test"}),A({id:"dependencies"},"dependencies"),D([y({to:"https://github.com/magic/log"},"@magic/log"),": console.log wrapper with loglevels"]),D([y({to:"https://github.com/magic/types"},"@magic/types"),": type checking library"]),D([y({to:"https://github.com/magic/deep"},"@magic/deep"),": deeply compare and manipulate arrays and objects"]),D([y({to:"https://www.npmjs.com/package/nyc"},"nyc"),": code coverage"]),D([y({to:"https://www.npmjs.com/package/prettier"},"prettier"),": code formatting"]),D("@magic/log and @magic/types have no dependencies."),A({id:"getting-started"},"Getting started"),D("be in a nodejs project."),B({id:"install"},"install"),J.View("npm i --save-dev @magic/test"),J.View("\n// create test/functionName.js\nconst yourTest = require('../path/to/your/file.js')\n\nmodule.exports = [\n  { fn: () => true, expect: true, info: 'true is true' },\n  // note that the function will be called automagically\n  { fn: yourTest, expect: true, info: 'hope this will work ;)'}\n]"),B({id:"npm-scripts"},"npm run scripts"),D("edit package.json"),J.View("\n{\n  \"scripts\": {\n    \"test\": \"t -p\", // quick test, only failing tests log\n    \"coverage\": \"t\", // get full test output and coverage reports\n    \"format\": \"f -w\", // format using prettier and write changes to files\n    \"format:check\": \"f\" // check format using prettier\n  }\n}"),D("repeated for easy copy pasting (without comments)"),J.View("\n  \"scripts\": {\n    \"test\": \"t -p\",\n    \"coverage\": \"t\",\n    \"format\": \"f -w\",\n    \"format:check\": \"f\"\n  }"),B({id:"quick-tests"},"quick tests (without coverage)"),J.View("\n// run the tests:\nnpm test\n\n// example output:\n// (failing tests will print, passing tests are silent)\n\n// ### Testing package: @magic/test\n// Ran 2 tests. Passed 2/2 100%"),B({id:"coverage"},"coverage"),D("run coverage reports and get full test report including from passing tests"),J.View("npm run coverage"),B({id:"test-suites"},"data/fs driven test suite creation:"),C("expectations for optimal test messages:"),D("src and test directories have the same structure and files"),D("tests one src file per test file"),D("tests one function per suite"),D("tests one feature per test"),C({id:"test-suites-fs"},"Filesystem based naming"),D("the following directory structure:"),J.View("\n./test/\n  ./suite1.js\n  ./suite2.js"),D("yields the same result as exporting the following from ./test/index.js"),C({id:"test-suites-data"},"Data driven naming"),J.View("\nconst suite1 = require('./suite1')\nconst suite2 = require('./suite2')\n\nmodule.exports = {\n  suite1,\n  suite2,\n}"),B("Important - File mappings"),D("if test/index.js exists, no other files will be loaded."),D("if test/lib/index.js exists, no other files from that subdirectory will be loaded."),B({id:"tests"},"single test, literal value, function or promise"),J.View("\nmodule.exports = { fn: true, expect: true, info: 'expect true to be true' }\n\n// expect: true is the default and can be omitted\nmodule.exports = { fn: true, info: 'expect true to be true' }\n\n// if fn is a function expect is the returned value of the function\nmodule.exports = { fn: () => false, expect: false, info: 'expect true to be true' }\n\n// if expect is a function the return value of the test get passed to it\nmodule.exports = { fn: false, expect: t => t === false, info: 'expect true to be true' }\n\n// if fn is a promise the resolved value will be returned\nmodule.exports = { fn: new Promise(r => r(true)), expect: true, info: 'expect true to be true' }\n\n// if expects is a promise it will resolve before being compared to the fn return value\nmodule.exports = { fn: true, expect: new Promise(r => r(true)), info: 'expect true to be true' }\n\n// callback functions can be tested easily too:\nconst { promise } = require('@magic/test')\nconst fnWithCallback = (err, arg, cb) => cb(err, arg)\nmodule.exports = { fn: promise(fnWithCallback(null, 'arg', (e, a) => a)), expect: 'arg' }"),C({id:"tests-types"},"testing types"),D(["types can be compared using ",y({to:"https://github.com/magic/types"},"@magic/types")]),D(["@magic/types is a richly featured and thoroughly tested type library without dependencies."," it is exported from this library for convenience."]),J.View("\nconst { is } = require('@magic/test')\nmodule.exports = [\n  { fn: () => 'string',\n    expect: is.string,\n    info: 'test if a function returns a string'\n  },\n  {\n    fn: () => 'string',\n    expect: is.length.equal(6),\n    info: 'test length of returned value'\n  },\n  // !!! Testing for deep equality. simple.\n  {\n    fn: () => [1, 2, 3],\n    expect: is.deep.equal([1, 2, 3]),\n    info: 'deep compare arrays/objects for equality',\n  },\n  {\n    fn: () => { key: 1 },\n    expect: is.deep.different({ value: 1 }),\n    info: 'deep compare arrays/objects for difference',\n  },\n]"),C("caveat:"),D("if you want to test if a function is a function, you need to wrap the function"),J.View("\nconst { is } = require('@magic/test')\n\nconst fnToTest = () => {}\n// both the tests will work as expected\nmodule.exports = [\n  {\n    fn: () => fnToTest,\n    expect: is.function,\n    info: 'function is a function',\n  },\n  {\n    fn: is.fn(fnToTest), // returns true\n    // we do not set expect: true, since that is the default\n    info: 'function is a function',\n  },\n]"),J.View("\n// will not work as expected and instead call fnToTest\nmodule.exports = {\n  fn: fnToTest,\n  expect: is.function,\n  info: 'function is a function',\n}"),B({id:"tests-multiple"}," multiple tests"),D("multiple tests can be created by exporting an array of single test objects."),J.View("\nmodule.exports = {\n  multipleTests: [\n    { fn: () => true, expect: true, info: 'expect true to be true' },\n    { fn: () => false, expect: false, info: 'expect false to be false' },\n  ]\n}"),B({id:"tests-promises"},"promises"),J.View("\nconst { promise, is } = require('@magic/test')\n\nmodule.exports = [\n  // kinda clumsy, but works. until you try handling errors.\n  {\n    fn: new Promise(cb => setTimeOut(() => cb(true), 2000)),\n    expect: true,\n    info: 'handle promises',\n  },\n  // better!\n  {\n    fn: promise(cb => setTimeOut(() => cb(null, true), 200)),\n    expect: true,\n    info: 'handle promises in a nicer way',\n  },\n  {\n    fn: promise(cb => setTimeOut(() => cb(new Error('error')), 200)),\n    expect: is.error,\n    info: 'handle promise errors in a nice way',\n  },\n]"),B({id:"tests-cb"},"callback functions"),J.View("\nconst { promise, is } = require('@magic/test')\n\nconst fnWithCallback = (err, arg, cb) => cb(err, arg)\n\nmodule.exports = [\n  {\n    fn: promise(cb => fnWithCallback(null, true, cb)),\n    expect: true\n    info: 'handle callback functions as promises',\n  },\n  {\n    fn: promise(cb => fnWithCallback(new Error('oops'), true, cb)),\n    expect: is.error,\n    info: 'handle callback function error as promise',\n  },\n]"),B({id:"tests-hooks"},"run functions before and/or after individual test"),J.View("\nconst after = () => {\n  global.testing = 'Test has finished, cleanup.'\n}\n\nconst before = () => {\n  global.testing = false\n\n  // if a function gets returned,\n  // this function will be executed once the test finished.\n  return after\n}\n\nmodule.exports = [\n  {\n    fn: () => { global.testing = 'changed in test' },\n    // if before returns a function, it will execute after the test.\n    before,\n    after,\n    expect: () => global.testing === 'changed in test',\n  },\n]"),B({id:"tests-suite-hooks"},"run functions before and/or after a suite of tests"),J.View("\nconst afterAll = () => {\n  // Test has finished, cleanup.'\n  global.testing = undefined\n}\n\nconst beforeAll = () => {\n  global.testing = false\n\n  // if a function gets returned,\n  // this function will be executed once the test suite finished.\n  return afterAll\n}\n\nmodule.exports = [\n  {\n    fn: () => { global.testing = 'changed in test' },\n    // if beforeAll returns a function, it will execute after the test suite.\n    beforeAll,\n    // this is optional and can be omitted if beforeall returns a function.\n    // in this example, afterAll will trigger twice.\n    afterAll,\n    expect: () => global.testing === 'changed in test',\n  },\n]"),A({id:"lib"},"Utility Belt"),D("@magic/test exports some utility functions that make working with complex test workflows simpler."),C({id:"lib-curry"},"curry"),D("Currying can be used to split the arguments of a function into multiple nested functions."),D("This helps if you have a function with complicated arguments that you just want to quickly shim."),J.View("\nconst { curry } = require('@magic/test')\nconst compare = (a, b) => a === b\nconst curried = curry(compare)\nconst shimmed = curried('shimmed_value')\n\nmodule.exports = {\n  fn: shimmed('shimmed_value'),\n  expect: true,\n  info: 'expect will be called with a and b and a will equal b',\n}\n"),C({id:"lib-vals"},"vals"),D("exports some javascript types. more to come. will sometime in the future be the base of a fuzzer."),B({id:"lib-promises"},"promises"),D("Helper function to wrap nodejs callback functions and promises with ease."),D("Handles the try/catch steps internally and returns a resolved or rejected promise."),J.View("\nconst { promise, is } = require('@magic/test')\n\nmodule.exports = [\n  {\n    fn: promise(cb => setTimeOut(() => cb(null, true), 200)),\n    expect: true,\n    info: 'handle promises in a nice way',\n  },\n  {\n    fn: promise(cb => setTimeOut(() => cb(new Error('error')), 200)),\n    expect: is.error,\n    info: 'handle promise errors in a nice way',\n  },\n]"),C({id:"lib-trycatch"},"tryCatch"),D("allows to test functions without bubbling the errors up into the runtime"),J.View("\nconst { is, tryCatch } = require('@magic/test')\nconst throwing = () => throw new Error('oops')\nconst healthy = () => true\n\nmodule.exports = [\n  {\n    fn: tryCatch(throwing()),\n    expect: is.error,\n    info: 'function throws an error',\n  },\n  {\n    fn: tryCatch(healthy()),\n    expect: true,\n    info: 'function does not throw'\n  },\n]"),A({id:"usage"},"Usage"),B({id:"usage-js"},"js api:"),J.View("\n// test/index.js\nconst run = require('@magic/test')\n\nconst tests = {\n  lib: [\n    { fn: () => true, expect: true, info: 'Expect true to be true' }\n  ],\n}\n\nrun(tests)"),A({id:"usage-cli"},"cli"),B("package.json (recommended)"),D("Add the magic/test bin scripts to package.json"),J.View("\n{\n  \"scripts\": {\n    \"test\": \"t -p\",\n    \"coverage\": \"t\",\n    \"format\": \"f -w\",\n    \"format:check\": \"f\"\n  },\n  \"devDependencies\": {\n    \"@magic/test\": \"github:magic/test\"\n  }\n}"),D("then use the npm run scripts"),J.View("\nnpm test\nnpm run coverage\nnpm run format\nnpm run format:check"),B({id:"usage-global"},"Globally (not recommended):"),D(["you can install this library globally"," but the recommendation is to add the dependency and scripts to the package.json file."]),D(["this both explains to everyone that your app has this dependencies"," and keeps your bash free of clutter"]),J.View("\nnpm i -g magic/test\n\n// run tests in production mode\nt -p\n\n// run tests and get coverage in verbose mode\nt\n\n// check formatting using prettier but do not write\n// prettier --list-different\nf\n\n// format files using prettier\n// prettier --write\nf -w"),D(["This library tests itself, have a look at ",y({to:"https://github.com/magic/test/tree/master/test"},"the tests")]),D("Checkout [@magic/types](https://github.com/magic/types) and the other magic libraries for more test examples.")]},"/404/":function _(){return s("404 - not found")}};var R={"url":"/test/","logotext":"@magic/test","menu":[{to:"/test/#dependencies","text":"dependencies"},{to:"/test/#getting-started","text":"getting started","items":[{to:"/test/#install","text":"install"},{to:"/test/#npm-scripts","text":"npm scripts"},{to:"/test/#quick-tests","text":"quick tests"},{to:"/test/#coverage","text":"coverage"}]},{to:"/test/#test-suites","text":"test suites","items":[{to:"/test/#test-suites-fs","text":"fs based test suites"},{to:"/test/#test-suites-data","text":"data based test suites"}]},{to:"/test/#tests","text":"writing tests","items":[{to:"/test/#tests-types","text":"testing types"},{to:"/test/#tests-multiple","text":"multiple tests in one file"},{to:"/test/#tests-promises","text":"promises"},{to:"/test/#tests-cb","text":"callback functions"},{to:"/test/#tests-hooks","text":"run function before / after individual tests"},{to:"/test/#tests-suite-hooks","text":"run function before / after suite of tests"}]},{to:"/test/#lib","text":"utility functions","items":[{to:"/test/#lib-curry","text":"curry"},{to:"/test/#lib-vals","text":"vals"},{to:"/test/#lib-trycatch","text":"tryCatch"},{to:"/test/#lib-promises","text":"promises"}]},{to:"/test/#usage","text":"Cli / Js Api Usage","items":[{to:"/test/#usage-js","text":"js api"},{to:"/test/#usage-cli","text":"cli"},{to:"/test/#usage-global","text":"npm i -g"}]}],"pre":{"theme":"light"}};R.url=window.location.pathname;var S={"go":function go(a){return function(b){if(!window.history)return!0;var d=a.to;var f=a.e?a.e:a;f.preventDefault();var e=b.url;var g=e.split("#"),h=c(g,2),i=h[0],j=h[1],k=j===void 0?"":j;if(d){e=d.replace(window.location.origin,"");var l=e.split("#"),m=c(l,2),n=m[0],o=m[1],p=o===void 0?"":o;i=n,k=p;var q=b.hash?"#".concat(b.hash):"";var r=b.url+q;e!==r&&(window.history&&window.history.pushState({uri:i},"",e),!k&&window.scrollTo(0,0))}else i=f.state?f.state.uri:"/";return k&&window.setTimeout(function(){var a=document.getElementById(k);a&&window.scrollTo(0,a.offsetTop)},10),{url:i,hash:k,prev:b.url}}},"pre":{"changeTheme":function changeTheme(a){return{theme:a}},"clip":function clip(a){if(typeof document!=="undefined"&&typeof document.execCommand==="function"){var b=document.createElement("textarea");b.id="copy",b.innerHTML=a,document.body.appendChild(b);var c=document.getElementById("copy");c.select(),document.execCommand("copy"),document.body.removeChild(c)}}}};var T=function view(a,b){var c=Q[a.url]?a.url:"/404/";var d=Q[c];if(a.pages){var e=a.pages[c];for(var f in e)a[f]=e[f]}if(b.pages){var g=b.pages[c];for(var h in g)b[h]=g[h]}return s({"class":"wrapper",oncreate:function oncreate(){typeof window!=="undefined"&&b.go&&window.addEventListener("popstate",b.go)}},[P,d?s({"class":"page"},d(a,b)):s({"class":"page"},"404 - not found"),K.View])};var U=document;var d=U.getElementById("magic");!d&&(d=U.createElement("div"),d.id="magic",U.body.appendChild(d)),q(R,S,T,d);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"hyperapp":2}],2:[function(require,module,exports){
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.hyperapp={})}(this,function(e){"use strict";e.h=function(e,n){for(var t=[],r=[],o=arguments.length;2<o--;)t.push(arguments[o]);for(;t.length;){var l=t.pop();if(l&&l.pop)for(o=l.length;o--;)t.push(l[o]);else null!=l&&!0!==l&&!1!==l&&r.push(l)}return"function"==typeof e?e(n||{},r):{nodeName:e,attributes:n||{},children:r,key:n&&n.key}},e.app=function(e,n,t,r){var o,l=[].map,u=r&&r.children[0]||null,i=u&&function n(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:l.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:n(e)})}}(u),f=[],m=!0,a=v(e),c=function e(r,o,l){for(var n in l)"function"==typeof l[n]?function(e,t){l[e]=function(e){var n=t(e);return"function"==typeof n&&(n=n(h(r,a),l)),n&&n!==(o=h(r,a))&&!n.then&&d(a=p(r,v(o,n),a)),n}}(n,l[n]):e(r.concat(n),o[n]=v(o[n]),l[n]=v(l[n]));return l}([],a,v(n));return d(),c;function g(e){return"function"==typeof e?g(e(a,c)):null!=e?e:""}function s(){o=!o;var e=g(t);for(r&&!o&&(u=function e(n,t,r,o,l){if(o===r);else if(null==r||r.nodeName!==o.nodeName){var u=k(o,l);n.insertBefore(u,t),null!=r&&T(n,t,r),t=u}else if(null==r.nodeName)t.nodeValue=o;else{x(t,r.attributes,o.attributes,l=l||"svg"===o.nodeName);for(var i={},f={},a=[],c=r.children,s=o.children,d=0;d<c.length;d++){a[d]=t.childNodes[d];var v=N(c[d]);null!=v&&(i[v]=[a[d],c[d]])}for(var d=0,p=0;p<s.length;){var v=N(c[d]),h=N(s[p]=g(s[p]));if(f[v])d++;else if(null==h||h!==N(c[d+1]))if(null==h||m)null==v&&(e(t,a[d],c[d],s[p],l),p++),d++;else{var y=i[h]||[];v===h?(e(t,y[0],y[1],s[p],l),d++):y[0]?e(t,t.insertBefore(y[0],a[d]),y[1],s[p],l):e(t,a[d],null,s[p],l),f[h]=s[p],p++}else null==v&&T(t,a[d],c[d]),d++}for(;d<c.length;)null==N(c[d])&&T(t,a[d],c[d]),d++;for(var d in i)f[d]||T(t,i[d][0],i[d][1])}return t}(r,u,i,i=e)),m=!1;f.length;)f.pop()()}function d(){o||(o=!0,setTimeout(s))}function v(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t}function p(e,n,t){var r={};return e.length?(r[e[0]]=1<e.length?p(e.slice(1),n,t[e[0]]):n,v(t,r)):n}function h(e,n){for(var t=0;t<e.length;)n=n[e[t++]];return n}function N(e){return e?e.key:null}function y(e){return e.currentTarget.events[e.type](e)}function b(e,n,t,r,o){if("key"===n);else if("style"===n)if("string"==typeof t)e.style.cssText=t;else for(var l in"string"==typeof r&&(r=e.style.cssText=""),v(r,t)){var u=null==t||null==t[l]?"":t[l];"-"===l[0]?e.style.setProperty(l,u):e.style[l]=u}else"o"===n[0]&&"n"===n[1]?(n=n.slice(2),e.events?r||(r=e.events[n]):e.events={},(e.events[n]=t)?r||e.addEventListener(n,y):e.removeEventListener(n,y)):n in e&&"list"!==n&&"type"!==n&&"draggable"!==n&&"spellcheck"!==n&&"translate"!==n&&!o?e[n]=null==t?"":t:null!=t&&!1!==t&&e.setAttribute(n,t),null!=t&&!1!==t||e.removeAttribute(n)}function k(e,n){var t="string"==typeof e||"number"==typeof e?document.createTextNode(e):(n=n||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),r=e.attributes;if(r){r.oncreate&&f.push(function(){r.oncreate(t)});for(var o=0;o<e.children.length;o++)t.appendChild(k(e.children[o]=g(e.children[o]),n));for(var l in r)b(t,l,r[l],null,n)}return t}function x(e,n,t,r){for(var o in v(n,t))t[o]!==("value"===o||"checked"===o?e[o]:n[o])&&b(e,o,t[o],n[o],r);var l=m?t.oncreate:t.onupdate;l&&f.push(function(){l(e,n)})}function T(e,n,t){function r(){e.removeChild(function e(n,t){var r=t.attributes;if(r){for(var o=0;o<t.children.length;o++)e(n.childNodes[o],t.children[o]);r.ondestroy&&r.ondestroy(n)}return n}(n,t))}var o=t.attributes&&t.attributes.onremove;o?o(n,r):r()}}});

},{}]},{},[1]);
